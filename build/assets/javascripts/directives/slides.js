(function(){this.presenter.directive("slides",function(e,t){return{restrict:"E",replace:!0,scope:{activeSlide:"@activeSlide"},transclude:!0,controller:function(i,r,n,s){return i.slides=[],i.currentSlide=r.index||1,i.activeSlide=!1,i.isPreviewing=!1,e.register(e.keys.space,function(e){return function(){return e.nextSlide()}}(this)),e.register(e.keys.right,function(e){return function(){return e.nextSlide()}}(this)),e.register(e.keys.left,function(e){return function(){return e.prevSlide()}}(this)),e.register(e.keys.escape,function(e){return function(){return e.setPreviewState()}}(this)),this.registerSlide=function(e){return function(t){return i.slides.push(t),e.updateProgress(),t===i.slides[i.currentSlide-1]&&(e.updateProgress(),i.activeSlide=!i.activeSlide),i.slides.indexOf(t)+1}}(this),this.nextSlide=function(e){return function(){i.currentSlide>i.slides.length-1||(i.currentSlide++,n.go("root",{index:i.currentSlide}),s.path("/"+i.currentSlide),e.updateProgress())}}(this),this.prevSlide=function(e){return function(){i.currentSlide<=1||(i.currentSlide--,n.go("root",{index:i.currentSlide}),s.path("/"+i.currentSlide),e.updateProgress())}}(this),this.setPreviewState=function(){return i.isPreviewing=!i.isPreviewing,i.$apply()},this.updateProgress=function(){return t.update(parseInt(i.currentSlide)/i.slides.length)},this.isActive=function(e){return e===parseInt(i.currentSlide)},i.$on("$destroy",function(){return e.off()}),this},template:"<div class='slides' ng-transclude ng-class=\"{ 'is-previewing': isPreviewing }\">\n\n</div>"}})}).call(this);